<div class="flex flex-col min-h-screen bg-gray-50 text-gray-800">
  <header class="flex justify-between items-center p-4 bg-white shadow-sm border-b">
    <div class="text-2xl font-bold text-blue-600">SportZoom</div>
    <nav class="flex gap-4 items-center">
      <a routerLink="/carrito" class="relative flex items-center gap-2 hover:text-blue-600 transition">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
        </svg>
        Carrito
        <!-- Badge de cantidad -->
        <span *ngIf="cantidadCarrito > 0" 
              class="absolute -top-2 -right-2 bg-red-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-pulse">
          {{ cantidadCarrito }}
        </span>
      </a>
      <a routerLink="/consulta-pedido" class="flex items-center gap-2 hover:text-blue-600 transition">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
        </svg>
        Pedidos
      </a>
      <a *ngIf="usuario?.es_admin"  routerLink="/admin/pedidos" class="flex items-center gap-2 hover:text-blue-600 transition">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
        </svg>
        Ventas
      </a>

      <ng-container *ngIf="usuario; else loginBtn">
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
          <span class="font-semibold">{{ usuario.username }}</span>
        </div>
        <button (click)="logout()" class="rounded-full border p-2 hover:bg-gray-100 transition flex items-center gap-1">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
          </svg>
          Cerrar sesi√≥n
        </button>
      </ng-container>

      <ng-template #loginBtn>
        <a routerLink="/login"
          class="rounded-full border px-4 py-2 hover:bg-gray-100 transition flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
          </svg>
          Iniciar sesi√≥n
        </a>
      </ng-template>
    </nav>
  </header>

  <div class="flex flex-1 flex-col lg:flex-row gap-6 p-6">
    <!-- üîç PANEL DE FILTROS MEJORADO -->
    <aside class="w-full lg:w-72 bg-white border rounded-xl p-5 shadow-sm space-y-4">
      <h2 class="font-bold text-xl mb-4 text-gray-800 border-b pb-2 flex items-center gap-2">
        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
        </svg>
        Filtros
      </h2>

      <!-- Buscar por nombre -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2">
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
          Buscar producto
        </label>
        <input type="text" placeholder="Ej: Nike Air Jordan..." [(ngModel)]="filtroNombre"
          class="w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" />
      </div>

      <!-- Filtrar por marca -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2">
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
          </svg>
          Marca
        </label>
        <select [(ngModel)]="filtroMarca"
          class="w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm">
          <option value="">Todas las marcas</option>
          <option *ngFor="let marca of marcasDisponibles" [value]="marca">{{ marca }}</option>
        </select>
      </div>

      <!-- Filtrar por talla -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2">
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
          </svg>
          Talla
        </label>
        <select [(ngModel)]="filtroTalla"
          class="w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm">
          <option value="">Todas las tallas</option>
          <option *ngFor="let talla of tallasDisponibles" [value]="talla">{{ talla }}</option>
        </select>
      </div>

      <!-- Rango de precio -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2">
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          Rango de Precio (COP)
        </label>
        <div class="flex gap-2">
          <input type="number" placeholder="M√≠n" [(ngModel)]="filtroPrecioMin"
            class="w-1/2 border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" />
          <input type="number" placeholder="M√°x" [(ngModel)]="filtroPrecioMax"
            class="w-1/2 border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" />
        </div>
      </div>

      <!-- Botones de acci√≥n -->
      <div class="flex flex-col gap-2 pt-3 border-t">
        <button type="button" (click)="aplicarFiltros()"
          class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
          Aplicar Filtros
        </button>
        <button type="button" (click)="limpiarFiltros()"
          class="w-full bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
          Limpiar Filtros
        </button>
      </div>

      <!-- Mostrar filtros activos -->
      <div
        *ngIf="filtroNombre?.trim() || filtroMarca?.trim() || filtroTalla?.trim() || filtroPrecioMin || filtroPrecioMax"
        class="text-xs text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-200">
        <p class="font-semibold mb-2 flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          Filtros seleccionados:
        </p>
        <ul class="space-y-1">
          <li *ngIf="filtroNombre?.trim()">‚Ä¢ B√∫squeda: "{{ filtroNombre }}"</li>
          <li *ngIf="filtroMarca?.trim()">‚Ä¢ Marca: {{ filtroMarca }}</li>
          <li *ngIf="filtroTalla?.trim()">‚Ä¢ Talla: {{ filtroTalla }}</li>
          <li *ngIf="filtroPrecioMin">‚Ä¢ Precio m√≠n: {{ filtroPrecioMin | currency:'COP ':'symbol':'1.0-0' }}</li>
          <li *ngIf="filtroPrecioMax">‚Ä¢ Precio m√°x: {{ filtroPrecioMax | currency:'COP ':'symbol':'1.0-0' }}</li>
        </ul>
        <p class="text-xs text-gray-500 mt-2 italic">Haz clic en "Aplicar Filtros" para buscar</p>
      </div>
    </aside>

    <!-- GRID DE PRODUCTOS -->
    <main class="flex-1 flex flex-col">
      <!-- Info de resultados -->
      <div class="mb-4 text-sm text-gray-600 bg-white rounded-lg p-3 border flex items-center gap-2">
        <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
        </svg>
        <span *ngIf="!cargando">
          Mostrando {{ (paginaActual - 1) * productosPorPagina + 1 }} -
          {{ Math.min(paginaActual * productosPorPagina, totalProductos) }}
          de {{ totalProductos }} productos
        </span>
      </div>

      <!-- Grid de productos -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 auto-rows-min flex-1">
        <p *ngIf="cargando" class="col-span-full text-center text-gray-500">Cargando productos...</p>

        <div *ngFor="let p of productos" (click)="verDetalle(p)" [class.border-blue-500]="productoSeleccionado === p"
          class="border bg-white rounded-xl shadow-sm hover:shadow-md transition p-4 flex flex-col cursor-pointer">
          <img [src]="p.imagen" [alt]="p.nombre" class="w-full h-36 object-cover rounded-lg mb-3" />
          <div class="flex-1 space-y-1">
            <h3 class="font-semibold text-lg truncate">{{ p.nombre }}</h3>
            <p class="text-green-600 font-bold flex items-center gap-1">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              {{ p.precio | currency:'COP ':'symbol':'1.0-0' }}
            </p>
            <p class="text-gray-600 text-sm flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
              </svg>
              {{ p.marca }}
              <span class="mx-1">‚Ä¢</span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              Talla {{ p.talla }}
            </p>
            <p class="text-gray-600 text-sm flex items-center gap-1">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
              </svg>
              Stock: {{ p.stock ?? 0 }}
            </p>
          </div>

          <button (click)="agregarAlCarrito(p, $event)" [disabled]="(p.stock ?? 0) === 0"
            class="mt-3 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
            </svg>
            {{ (p.stock ?? 0) > 0 ? 'A√±adir al carrito' : 'Agotado' }}
          </button>
        </div>

        <p *ngIf="!cargando && productos.length === 0" class="col-span-full text-center text-gray-500 py-10">
          No se encontraron productos con los filtros seleccionados.
        </p>
      </div>

      <!-- PAGINACI√ìN -->
      <div *ngIf="totalPaginas > 1" class="mt-6 flex flex-col items-center gap-3 bg-white p-4 rounded-lg border">

        <!-- Texto de √≠ndice -->
        <p class="text-gray-700 text-sm font-medium">
          Mostrando {{ indiceInicio + 1 }} - {{ indiceFin }} de {{ totalProductos }} productos
        </p>

        <!-- Controles de paginaci√≥n -->
        <div class="flex justify-center items-center gap-2">
          <!-- Bot√≥n anterior -->
          <button (click)="paginaAnteriorNav()" [disabled]="!paginaAnterior"
            class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
            Anterior
          </button>

          <!-- Primera p√°gina -->
          <button *ngIf="paginaActual > 3" (click)="irAPagina(1)"
            class="px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition">
            1
          </button>
          <span *ngIf="paginaActual > 3" class="px-2">...</span>

          <!-- P√°ginas cercanas -->
          <button *ngFor="let pagina of obtenerPaginas()" (click)="irAPagina(pagina)"
            [class.bg-blue-600]="pagina === paginaActual" [class.text-white]="pagina === paginaActual"
            [class.bg-gray-100]="pagina !== paginaActual"
            class="px-3 py-2 rounded-lg hover:bg-blue-500 hover:text-white transition font-medium">
            {{ pagina }}
          </button>

          <!-- √öltima p√°gina -->
          <span *ngIf="paginaActual < totalPaginas - 2" class="px-2">...</span>
          <button *ngIf="paginaActual < totalPaginas - 2" (click)="irAPagina(totalPaginas)"
            class="px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition">
            {{ totalPaginas }}
          </button>

          <!-- Bot√≥n siguiente -->
          <button (click)="paginaSiguiente()" [disabled]="!siguientePagina"
            class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2">
            Siguiente
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </button>
        </div>
      </div>
    </main>

    <!-- PANEL DERECHO -->
    <aside class="w-full lg:w-96 flex flex-col gap-6">
      <!-- Detalle del producto -->
      <section class="border rounded-xl bg-white shadow-sm p-5">
        <h2 class="font-bold text-xl mb-3 text-gray-800 border-b pb-2 flex items-center gap-2">
          <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
          </svg>
          Detalle del producto
        </h2>
        <div *ngIf="productoSeleccionado; else sinSeleccion" class="space-y-3">
          <img [src]="productoSeleccionado.imagen" [alt]="productoSeleccionado.nombre"
            class="w-full h-48 object-cover rounded-lg border" />
          <h3 class="font-bold text-lg text-gray-900">{{ productoSeleccionado.nombre }}</h3>
          <p class="text-green-600 font-semibold text-lg flex items-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            {{ productoSeleccionado.precio | currency:'COP ':'symbol':'1.0-0' }}
          </p>
          <div class="flex gap-4 text-sm text-gray-700">
            <p class="flex items-center gap-1">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
              </svg>
              <strong>Marca:</strong> {{ productoSeleccionado.marca }}
            </p>
            <p class="flex items-center gap-1">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              <strong>Talla:</strong> {{ productoSeleccionado.talla }}
            </p>
          </div>
          <p class="text-sm text-gray-600 flex items-center gap-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
            </svg>
            Stock disponible: {{ productoSeleccionado.stock ?? 0 }}
          </p>
          <div class="text-sm text-gray-700 leading-relaxed border-t pt-2">
            <strong>Descripci√≥n:</strong><br />
            {{ productoSeleccionado.descripcion || 'Sin descripci√≥n disponible.' }}
          </div>
          <button (click)="agregarAlCarrito(productoSeleccionado, $event)"
            [disabled]="(productoSeleccionado.stock ?? 0) === 0"
            class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
            </svg>
            A√±adir al carrito
          </button>
        </div>

        <ng-template #sinSeleccion>
          <p class="text-gray-500 text-sm mt-10 text-center">
            Selecciona un producto para ver los detalles
          </p>
        </ng-template>
      </section>

      <!-- PANEL DE ADMINISTRACI√ìN -->
      <section *ngIf="usuario?.es_admin" class="border rounded-xl bg-white shadow-sm p-5">
        <h2 class="font-bold text-xl mb-4 text-gray-800 border-b pb-2 flex items-center gap-2">
          <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          Panel de Administraci√≥n
        </h2>
        <form (ngSubmit)="guardarProducto()" class="space-y-3">
          <input type="text" placeholder="Nombre" [(ngModel)]="productoForm.nombre" name="nombre" required
            class="w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200" />
          <textarea placeholder="Descripci√≥n" [(ngModel)]="productoForm.descripcion" name="descripcion"
            class="w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200"></textarea>

          <!-- Marca -->
          <select [(ngModel)]="productoForm.marca" name="marca" required
            class="w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200">
            <option *ngFor="let marca of marcasDisponibles" [value]="marca">{{ marca }}</option>
          </select>

          <!-- Talla -->
          <select [(ngModel)]="productoForm.talla" name="talla" required
            class="w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200">
            <option *ngFor="let talla of tallasDisponibles" [value]="talla">Talla {{ talla }}</option>
          </select>

          <input type="number" placeholder="Precio (en COP)" [(ngModel)]="productoForm.precio" name="precio" required
            class="w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200" />
          <input type="number" placeholder="Stock disponible" [(ngModel)]="productoForm.stock" name="stock" required
            class="w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200" />
          <input type="file" (change)="onFileSelected($event)" accept="image/*"
            class="w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200" />
          <button type="submit"
            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition flex items-center justify-center gap-2 font-semibold">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path *ngIf="!productoForm.id" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 4v16m8-8H4" />
              <path *ngIf="productoForm.id" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
            {{ productoForm.id ? 'Actualizar Producto' : 'Agregar Producto' }}
          </button>
        </form>

        <div class="mt-6">
          <h3 class="font-semibold text-gray-700 mb-2">Productos existentes</h3>
          <div *ngFor="let p of productos"
            class="border rounded-lg p-3 flex justify-between items-center hover:bg-gray-50 transition">
            <div class="truncate flex-1">
              <p class="font-medium">{{ p.nombre }}</p>
              <p class="text-xs text-gray-500">{{ p.marca }} ‚Ä¢ Talla {{ p.talla }}</p>
            </div>
            <div class="flex gap-2">
              <button (click)="editarProducto(p, $event)"
                class="bg-yellow-400 text-white p-2 rounded hover:bg-yellow-500 transition" title="Editar producto">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                </svg>
              </button>
              <button (click)="p.id && eliminarProducto(p.id!, $event)"
                class="bg-red-600 text-white p-2 rounded hover:bg-red-700 transition" title="Eliminar producto">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </section>
    </aside>
  </div>

  <footer class="text-center p-4 bg-white border-t mt-auto text-sm text-gray-600">
    ¬© 2025 SportZoom ‚Äî Todos los derechos reservados
  </footer>
</div>
